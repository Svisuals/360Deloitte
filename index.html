<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Acompanhamento de Obra 360</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Enlace al archivo CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de inicio de sesión -->
    <div id="loginOverlay">
        <div id="loginContent">
            <img src="DT.png" alt="Logo da Deloitte 360" id="loginLogo">
            <div id="loginForm">
                <h2>Iniciar Sessão</h2>
                <form id="authForm">
                    <label for="username">Usuário:</label>
                    <input type="text" id="username" name="username" required autocomplete="off">

                    <label for="password">Senha:</label>
                    <input type="password" id="password" name="password" required autocomplete="off">

                    <button type="submit">Entrar</button>
                    <p id="errorMessage" class="error"></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Botones principales -->
    <div id="toggleButton"></div> <!-- Botón DUP.png -->
    <div id="togglePdfButton"></div> <!-- Botón PDF.png -->
    <div id="toggleFormButton"></div> <!-- Botón FORM.png -->
    <div id="toggleUserFormButton"></div> <!-- Botón USER.png (Oculto por defecto) -->
    <div id="toggleUploadFormButton"></div> <!-- Botón UPLOAD.png (Oculto por defecto) -->
    <div id="toggleManageFormButton"></div> <!-- Botón MANAGE.png (Oculto por defecto) -->
    <!-- Nuevo botón para el formulario adicional -->
    <div id="toggleIssueFormButton"></div> <!-- Botón ISSUE.png (Oculto por defecto) -->

    <div id="container">
        <iframe id="iframe1" src="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true"></iframe>
        <iframe id="iframe2" src="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true"></iframe>
        <!-- Visor PDF -->
        <embed id="pdfViewer" src="CRONOGRAMA.pdf" type="application/pdf" />
    </div>

    <!-- Menú desplegable para iframe1 -->
    <div id="iframe1Menu" class="dropdown" role="menu" aria-label="Menú desplegable del iframe1">
        <button id="iframe1MenuButton">▼</button>
        <div id="iframe1MenuContent" class="dropdown-content">
            <!-- Enlaces del menú -->
            <a href="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Modelo 3D Silicato</a>
            <a href="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Real Capture Silicato</a>
            <a href="https://momento360.com/e/uc/51c95022f269476289cc23adc2a69b03?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Modelo 3D Virador de Vagões</a>
        </div>
    </div>

    <!-- Menú desplegable para iframe2 -->
    <div id="iframe2Menu" class="dropdown" role="menu" aria-label="Menú desplegable del iframe2">
        <button id="iframe2MenuButton">▼</button>
        <div id="iframe2MenuContent" class="dropdown-content">
            <!-- Enlaces del menú -->
            <a href="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Modelo 3D Silicato</a>
            <a href="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Real Capture Silicato</a>
            <a href="https://momento360.com/e/uc/51c95022f269476289cc23adc2a69b03?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Modelo 3D Virador de Vagões</a>
        </div>
    </div>

    <!-- Formulario para agregar, editar y eliminar enlaces -->
    <div id="addLinkFormContainer">
        <h3>Gestionar Enlaces</h3>
        <form id="addLinkForm">
            <label for="linkText">Texto del Enlace:</label>
            <input type="text" id="linkText" name="linkText" required>

            <label for="linkURL">URL del Enlace:</label>
            <input type="url" id="linkURL" name="linkURL" required>

            <button type="submit">Agregar Enlace</button>
            <button type="button" id="updateLinkButton" style="display: none;">Actualizar Enlace</button>
            <button type="button" id="cancelEditButton" style="display: none;">Cancelar</button>
        </form>
        <p id="addLinkMessage"></p>

        <!-- Lista de enlaces existentes -->
        <div id="linkListContainer">
            <h4>Enlaces Existentes</h4>
            <ul id="linkList"></ul>
        </div>
    </div>

    <!-- Formulario para subir PDFs -->
    <div id="uploadPdfFormContainer" style="display: none;">
        <h3>Subir Documento PDF</h3>
        <form id="uploadPdfForm">
            <label for="pdfFile">Seleccione un archivo PDF:</label>
            <input type="file" id="pdfFile" name="pdfFile" accept="application/pdf" required>

            <button type="submit">Subir PDF</button>
            <button type="button" id="cancelUploadButton">Cancelar</button>
        </form>
        <p id="uploadMessage"></p>
    </div>

    <!-- Formulario para agregar, editar y eliminar usuarios -->
    <div id="userFormContainer" style="display: none;">
        <h3>Gestionar Usuarios</h3>
        <form id="userForm">
            <label for="userEmail">Correo Electrónico:</label>
            <input type="email" id="userEmail" name="userEmail" required>

            <label for="userUsername">Nombre de Usuario:</label>
            <input type="text" id="userUsername" name="userUsername" required>

            <label for="userPassword">Contraseña:</label>
            <input type="password" id="userPassword" name="userPassword" required>

            <label for="userRole">Rol:</label>
            <select id="userRole" name="userRole" required>
                <option value="miembro">Miembro</option>
                <option value="administrador">Administrador</option>
            </select>

            <button type="submit">Agregar Usuario</button>
            <button type="button" id="updateUserButton" style="display: none;">Actualizar Usuario</button>
            <button type="button" id="cancelUserEditButton" style="display: none;">Cancelar</button>
        </form>
        <p id="userMessage"></p>

        <!-- Lista de usuarios existentes -->
        <div id="userListContainer">
            <h4>Usuarios Existentes</h4>
            <ul id="userList"></ul>
        </div>
    </div>

    <!-- Nuevo formulario para gestionar incidencias -->
    <div id="issueFormContainer" style="display: none;">
        <h3>Gestionar Incidencias</h3>
        <form id="issueForm">
            <label for="issueTitle">Título:</label>
            <input type="text" id="issueTitle" name="issueTitle" required>

            <label for="issueType">Tipo:</label>
            <input type="text" id="issueType" name="issueType" required>

            <label for="issueStatus">Estado:</label>
            <input type="text" id="issueStatus" name="issueStatus" required>

            <label for="issuePriority">Prioridad:</label>
            <input type="text" id="issuePriority" name="issuePriority" required>

            <label for="issueCreator">Creador:</label>
            <input type="text" id="issueCreator" name="issueCreator" required>

            <label for="issueResponsible">Responsable:</label>
            <input type="text" id="issueResponsible" name="issueResponsible" required>

            <label for="issueCreationDate">Fecha de Creación:</label>
            <input type="date" id="issueCreationDate" name="issueCreationDate" required>

            <label for="issueDueDate">Fecha de Vencimiento:</label>
            <input type="date" id="issueDueDate" name="issueDueDate" required>

            <label for="issueDiscipline">Disciplinas:</label>
            <input type="text" id="issueDiscipline" name="issueDiscipline" required>

            <label for="issueCause">Causas:</label>
            <input type="text" id="issueCause" name="issueCause" required>

            <label for="issueDescription">Descripción:</label>
            <textarea id="issueDescription" name="issueDescription" rows="4" required></textarea>

            <label for="issueScreenshot">Captura de Pantalla:</label>
            <input type="file" id="issueScreenshot" name="issueScreenshot" accept="image/*">

            <button type="submit">Agregar Incidencia</button>
            <button type="button" id="updateIssueButton" style="display: none;">Actualizar Incidencia</button>
            <button type="button" id="cancelIssueEditButton" style="display: none;">Cancelar</button>
        </form>
        <p id="issueMessage"></p>

        <!-- Lista de incidencias existentes -->
        <div id="issueListContainer">
            <h4>Incidencias Existentes</h4>
            <ul id="issueList"></ul>
        </div>
    </div>

    <!-- Cargar el script al final del body -->
    <script src="script.js"></script>
</body>
</html>
