<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Plataforma de Gestión</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Incluir jsPDF para exportar a PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<!-- Superposición de inicio de sesión -->
<div id="loginOverlay">
    <form id="authForm">
        <h2>Iniciar Sesión</h2>
        <input type="text" id="username" placeholder="Usuario" required>
        <input type="password" id="password" placeholder="Contraseña" required>
        <button type="submit">Entrar</button>
        <p id="errorMessage"></p>
    </form>
</div>

<!-- Contenedor principal -->
<div id="container">

    <!-- Botones y menús -->
    <button id="toggleButton">DUP</button>
    <button id="togglePdfButton">PDF</button>
    <button id="toggleFormButton">Gestionar</button>
    <!-- Nuevo botón para el formulario de tareas -->
    <button id="toggleTaskFormButton" style="display: none;">Gestionar Tareas</button>

    <!-- Menú del iframe1 -->
    <div id="iframe1Menu">
        <button id="iframe1MenuButton">Menú 1</button>
        <div id="iframe1MenuContent">
            <!-- Enlaces dinámicos -->
        </div>
    </div>

    <!-- Menú del iframe2 -->
    <div id="iframe2Menu" style="display: none;">
        <button id="iframe2MenuButton">Menú 2</button>
        <div id="iframe2MenuContent">
            <!-- Enlaces dinámicos -->
        </div>
    </div>

    <!-- Formularios de gestión -->
    <div id="addLinkFormContainer">
        <h3>Gestionar Enlaces</h3>
        <form id="addLinkForm">
            <label for="linkText">Texto del enlace:</label>
            <input type="text" id="linkText" name="linkText" required>
            <label for="linkURL">URL del enlace:</label>
            <input type="text" id="linkURL" name="linkURL" required>
            <button type="submit">Agregar Enlace</button>
            <button type="button" id="updateLinkButton" style="display: none;">Actualizar Enlace</button>
            <button type="button" id="cancelEditButton" style="display: none;">Cancelar</button>
        </form>
        <div id="addLinkMessage"></div>
        <ul id="linkList"></ul>
    </div>

    <div id="uploadPdfFormContainer">
        <h3>Subir PDF</h3>
        <form id="uploadPdfForm">
            <input type="file" id="pdfFile" accept="application/pdf" required>
            <button type="submit">Cargar PDF</button>
            <button type="button" id="cancelUploadButton">Cancelar</button>
        </form>
        <div id="uploadMessage"></div>
    </div>

    <div id="userFormContainer">
        <h3>Gestionar Usuarios</h3>
        <form id="userForm">
            <label for="userEmail">Email:</label>
            <input type="email" id="userEmail" name="userEmail" required>
            <label for="userUsername">Nombre de Usuario:</label>
            <input type="text" id="userUsername" name="userUsername" required>
            <label for="userPassword">Contraseña:</label>
            <input type="password" id="userPassword" name="userPassword" required>
            <label for="userRole">Rol:</label>
            <select id="userRole" name="userRole" required>
                <option value="miembro">Miembro</option>
                <option value="administrador">Administrador</option>
            </select>
            <button type="submit">Agregar Usuario</button>
            <button type="button" id="updateUserButton" style="display: none;">Actualizar Usuario</button>
            <button type="button" id="cancelUserEditButton" style="display: none;">Cancelar</button>
        </form>
        <div id="userMessage"></div>
        <ul id="userList"></ul>
    </div>

    <!-- Contenedor del formulario de tareas -->
    <div id="taskFormContainer" style="display: none;">
        <h3>Gestionar Tareas</h3>
        <form id="taskForm">
            <label for="taskTitle">Título:</label>
            <input type="text" id="taskTitle" name="taskTitle" required>

            <label for="taskType">Tipo:</label>
            <input type="text" id="taskType" name="taskType" required>

            <label for="taskStatus">Estado:</label>
            <input type="text" id="taskStatus" name="taskStatus" required>

            <label for="taskPriority">Prioridad:</label>
            <input type="text" id="taskPriority" name="taskPriority" required>

            <label for="taskCreator">Creador:</label>
            <input type="text" id="taskCreator" name="taskCreator" required>

            <label for="taskResponsible">Responsable:</label>
            <input type="text" id="taskResponsible" name="taskResponsible" required>

            <label for="taskCreationDate">Fecha de creación:</label>
            <input type="date" id="taskCreationDate" name="taskCreationDate" required>

            <label for="taskDueDate">Fecha de vencimiento:</label>
            <input type="date" id="taskDueDate" name="taskDueDate" required>

            <label for="taskDisciplines">Disciplinas:</label>
            <input type="text" id="taskDisciplines" name="taskDisciplines" required>

            <label for="taskCauses">Causas:</label>
            <input type="text" id="taskCauses" name="taskCauses" required>

            <label for="taskDescription">Descripción:</label>
            <textarea id="taskDescription" name="taskDescription" rows="5" required></textarea>

            <label for="taskScreenshot">Captura de pantalla:</label>
            <input type="file" id="taskScreenshot" name="taskScreenshot" accept="image/*">

            <!-- Botones del formulario -->
            <button type="submit">Guardar</button>
            <button type="button" id="updateTaskButton" style="display: none;">Actualizar</button>
            <button type="button" id="cancelTaskEditButton" style="display: none;">Cancelar</button>
        </form>

        <div id="taskMessage"></div>

        <!-- Lista de tareas -->
        <div id="taskListContainer">
            <h4>Lista de Tareas</h4>
            <ul id="taskList"></ul>
        </div>
    </div>

    <!-- Iframes y visor PDF -->
    <iframe id="iframe1" src=""></iframe>
    <iframe id="iframe2" src=""></iframe>
    <iframe id="pdfViewer" src=""></iframe>

</div>

<script src="script.js"></script>
</body>
</html>
