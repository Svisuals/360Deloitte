<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Aplicación de Incidencias</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Contenedor principal -->
    <div id="container">
        <!-- Botones principales -->
        <div id="mainButtons">
            <button id="toggleButton">DUP</button>
            <button id="togglePdfButton">PDF</button>
            <button id="toggleFormButton">Admin</button>
            <!-- Nuevo botón con imagen PNG -->
            <button id="toggleIssueFormButton">
                <img src="ruta/a/tu/imagen.png" alt="Formulario de Incidencias" width="20" height="20">
            </button>
        </div>

        <!-- Formularios de administración -->
        <button id="toggleManageFormButton" style="display: none;">Gestionar Enlaces</button>
        <button id="toggleUploadFormButton" style="display: none;">Subir PDF</button>
        <button id="toggleUserFormButton" style="display: none;">Gestionar Usuarios</button>

        <!-- Menús y iframes -->
        <div id="iframe1Menu" class="iframeMenu">
            <button id="iframe1MenuButton">Menú</button>
            <div id="iframe1MenuContent" class="iframeMenuContent">
                <!-- Enlaces dinámicos -->
            </div>
        </div>

        <div id="iframe2Menu" class="iframeMenu">
            <button id="iframe2MenuButton">Menú</button>
            <div id="iframe2MenuContent" class="iframeMenuContent">
                <!-- Enlaces dinámicos -->
            </div>
        </div>

        <iframe id="iframe1"></iframe>
        <iframe id="iframe2"></iframe>
        <iframe id="pdfViewer"></iframe>

        <!-- Formularios de gestión -->
        <div id="addLinkFormContainer" style="display: none;">
            <!-- Formulario para agregar enlaces -->
            <!-- ... [Contenido del formulario de enlaces] ... -->
        </div>

        <div id="uploadPdfFormContainer" style="display: none;">
            <!-- Formulario para subir PDF -->
            <!-- ... [Contenido del formulario de subir PDF] ... -->
        </div>

        <div id="userFormContainer" style="display: none;">
            <!-- Formulario para gestionar usuarios -->
            <!-- ... [Contenido del formulario de usuarios] ... -->
        </div>

        <!-- Nuevo formulario de incidencias -->
        <div id="issueFormContainer" style="display: none;">
            <form id="issueForm">
                <h3>Crear Incidencia</h3>

                <label for="issueTitle">Título:</label>
                <input type="text" id="issueTitle" name="issueTitle" required>

                <label for="issueType">Tipo:</label>
                <input type="text" id="issueType" name="issueType" required>

                <label for="issueStatus">Estado:</label>
                <input type="text" id="issueStatus" name="issueStatus" required>

                <label for="issuePriority">Prioridad:</label>
                <input type="text" id="issuePriority" name="issuePriority" required>

                <label for="issueCreator">Creador:</label>
                <input type="text" id="issueCreator" name="issueCreator" required>

                <label for="issueResponsible">Responsable:</label>
                <input type="text" id="issueResponsible" name="issueResponsible" required>

                <label for="issueCreationDate">Fecha de Creación:</label>
                <input type="date" id="issueCreationDate" name="issueCreationDate" required>

                <label for="issueDueDate">Fecha de Vencimiento:</label>
                <input type="date" id="issueDueDate" name="issueDueDate" required>

                <label for="issueDisciplines">Disciplinas:</label>
                <input type="text" id="issueDisciplines" name="issueDisciplines" required>

                <label for="issueCauses">Causas:</label>
                <input type="text" id="issueCauses" name="issueCauses" required>

                <label for="issueDescription">Descripción:</label>
                <textarea id="issueDescription" name="issueDescription" required></textarea>

                <!-- Campo de captura de pantalla modificado -->
                <label for="issueScreenshot">Captura de Pantalla:</label>
                <div id="screenshotContainer">
                    <div id="dropArea">
                        <p>Pegue la imagen aquí o haga clic para seleccionar un archivo</p>
                        <input type="file" id="issueScreenshot" name="issueScreenshot" accept="image/*">
                    </div>
                    <!-- Vista previa de la imagen pegada -->
                    <img id="screenshotPreview" src="" alt="Vista previa de la captura" style="display: none; max-width: 100%; height: auto; margin-top: 10px;">
                </div>

                <!-- Canvas oculto para procesar la imagen -->
                <canvas id="screenshotCanvas" style="display: none;"></canvas>

                <button type="submit">Guardar</button>
                <button type="button" id="cancelIssueButton">Cancelar</button>
            </form>

            <!-- Lista de incidencias -->
            <div id="issueListContainer">
                <h4>Incidencias</h4>
                <ul id="issueList"></ul>
            </div>
        </div>
    </div>

    <!-- Pantalla de inicio de sesión -->
    <div id="loginOverlay">
        <form id="authForm">
            <h2>Iniciar Sesión</h2>
            <input type="text" id="username" placeholder="Usuario" required>
            <input type="password" id="password" placeholder="Contraseña" required>
            <button type="submit">Entrar</button>
            <p id="errorMessage" style="display: none; color: red;"></p>
        </form>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>
